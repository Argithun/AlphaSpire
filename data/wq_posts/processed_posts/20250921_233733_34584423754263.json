{
  "title": "【Alpha模板】基于labs分析macro做出可泛化的模板",
  "description": "还记得weijie老师上课说过的一句话，一些sharp很高，turnover也很高的alpha是非常具有价值的，然后当时我就找到了下面这个alpha，并在labs上对其数据进行了分析。    ...",
  "post_body": "还记得weijie老师上课说过的一句话，一些sharp很高，turnover也很高的alpha是非常具有价值的，然后当时我就找到了下面这个alpha，并在labs上对其数据进行了分析。\n本文讲的相对比较详细，建议新手务必认真读完，模板在本文的最下面，经过验证可以，在USA，GLB，EUR 三个大区都有不错的效果，至于你问我为什么没有ASI，因为我也没有这个数据集的权限。其他的数据集我相信也会有一定的效果，但是我还是十分建议你先在labs上对数据进行分析研究，而不是无脑的跑模板。\n1.首先我们需要找到这样的alpha\n2. 然后将其用到的字段名复制下来，在Data上搜索\n3. 点击搜索后得到下面的结果\n一般第一个就是你要的那个字段，之后点进去再找到下面的Visualiaze Field\n4.开始分析数据\n这里我们发现这个数据字段是大量的0值的，这种情况我们的ts_backfill是没有办法进行填充的，所以我们在这之前需要先 to_nan 一下  ，例 : ts_backfill(to_nan({data_filed}),60)\n简单的处理之后turnover会有明显的下降，两个alpha之间唯一的区别就是有没有加to_nan，下面的图因为我改了一下decay，所以和刚找的alpha有一点点不太一样（是的，难以想象只是改了一下decay，turnover居然高了这么多）\n一个简简单单的0值处理成nan，就把turnover降了一半，同时sharp和return都有一定的提升\n5.发现异常值，对异常值进行处理\n在这里我尝试了ts_quantile和winsorize，发现ts_quantile的效果要更好\n至此，数据处理的环节就完成了\n例：ts_quantile(ts_backfill(to_nan({datafield}),60), 5, driver=gaussian)\n6.将处理好的数据放入一二三阶框架中直接运行，就能得到不错的效果，我尝试了一二（先时序处理再横截面处理）和二一（先横截面处理再时序处理），目前来看一二的效果比较好（时序处理：ts；横截面处理：group）\n7.最后展示一下结果（USA)\n不算特别好，但只是简单处理了一下数据，就能得到一个还不是“死鱼”的Alpha，还算不错  （注：死鱼是weijie老师的一个梗，暗指turnover小于5的Alpha）\n最后的最后，大家还能结合一下MCP找到一些有意思的处理方式，下面抛砖引玉\n1.\n时间序列特征明显\n数据有明显的趋势变化（2018年末转折点）\n存在周期性波动和异常尖峰\n推荐operators\n：\nts_delta\n- 捕捉趋势变化\nts_rank\n- 处理时间序列排序\nts_zscore\n- 标准化处理异常值\nts_returns\n- 计算收益率变化\n2.\n异常值处理需求\n数据中存在显著的异常尖峰\n分布从集中变为高度偏斜\n推荐operators\n：\nts_quantile\n- 分位数处理，减少异常值影响\nts_skewness\n- 检测偏度变化\nts_std_dev\n- 标准差，识别异常波动\nts_entropy\n- 信息熵，检测分布变化\n3.\n分布特征变化\n从稳定分布变为高度偏斜\n不同时期数据特征差异巨大\n推荐operators\n：\nrank\n- 排序，处理分布偏斜\nzscore\n- 标准化\nquantile\n- 分位数变换\nnormalize\n- 归一化处理\n4.\n多实体比较\n不同实体表现差异显著\n推荐operators\n：\ngroup_rank\n- 分组排序\ngroup_mean\n- 分组均值\ngroup_std_dev\n- 分组标准差\n组合1：异常值稳健处理\nts_quantile(ts_zscore(mcr27, 22), 22, driver='gaussian')\n组合2：趋势捕捉\nts_delta(ts_rank(mcr27, 66), 5)\n组合3：分布标准化\nrank(ts_std_dev(mcr27, 120))\n组合4：分组比较\ngroup_rank(ts_mean(mcr27, 22), densify(sector))\n如果你觉得写得还不错，麻烦给个宝贵的赞，这将是对我最大的鼓励！！",
  "post_comments": [
    "感谢分享，点赞",
    "十分有价值的文章，不过新人顾问有点看不懂异常处理那部分。\n希望论坛能有更多这种思路清晰的文章。",
    "太好了",
    "模版不错啊，其实应该不止适用于mcr，学到了",
    "谢谢大佬分享，分析的思路好棒！~\n一个问题，macro27的数据都是vector, 在to_nan之前，需要先通过vec operator把它转换成matrix再to_nan对吗？ 我试了直接to_nan，回测会报错。\n===================================\nFIGHTING LABUBU!~\n====================================",
    "to_nan的操作符权限Gold好像没有",
    "没有to_nan权限的话，这类0值膨胀的数据集都做不了吧，to_nan操作符能把0值膨胀数据集更正为合理分布，不使用to_nan而强行处理0膨胀数据集，会把无意义的0当作有意义的值，就算一顿操作找到了信号，也很大概率是过拟合。这么重要的操作符，我觉得即便是低段位也应该获得权限。",
    "@\nHW85064\n感谢认可，关于labs图形很多看不懂的部分可以提问ai进行结合分析，后续这类文章也会经常更新，感谢关注，谢谢！\n===================================================================\n共好！！！\nby ML42552",
    "@\nDS48533\n感谢认可和关注，这套模板的泛化性还是比较强的，一起做更多的研究，做出更多更好的模板，国区加油！！！\n=================================================================\n共好！！\nby ML42552",
    "@\nXC66172\n感谢关注与尝试，如果是vector类数据集是需要先进行vec操作符的处理的，同样这套模板可以比较好的适配一二三阶模板，直接改数据处理的部分就可以了\n======================================================\n共好！\nby ML42552",
    "@\nWX64154\n感谢关注与认可！目前的genius机制下，不同顾问的操作符是会有部分不一样的，后续我也会尝试做一些gold也有的操作符模板，同样，中文区顾问论坛还有更多优秀的帖子，可以参考一下其他大佬的模板思路\n===========================================\n共好！！\nby ML42552",
    "一步一步拆分数据, 结合操作符分析 , 这个思路非常棒 , 值得学习!\n感谢大佬的分享!\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
    "感谢大佬的分享，完全不知道lab要怎么去用的时候，看到一篇这样帖子，操作步骤都很清晰，一步步也好理解，我去学习和使用后再来进行反馈。而且还有几个现成的几个模板，感觉有些操作符我还要慢慢去理解再使用，但是感谢大佬给出的这些思路！"
  ]
}