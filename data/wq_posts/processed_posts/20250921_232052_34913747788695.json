{
  "title": "【经验分享】冲刺 genius！+ 细节决定成-败，你的六维还能提升！+ 点塔！+ alpha模板",
  "description": "一、Genius定级与何相干？        总体来说，一共与两方面有关，一是 硬性指标，二是 软指标。         其中 硬性指标 包括由               1. 本季度 Signals (阿尔法)；               2. 本季度...",
  "post_body": "一、Genius定级与何相干？\n总体来说，一共与两方面有关，一是\n硬性指标\n，二是\n软指标\n。\n其中\n硬性指标\n包括由\n1. 本季度 Signals (阿尔法)；\n2. 本季度 Pyramids (金字塔)；\n3. Combined Alpha Performance (提交的所有alpha表现)；\n4. Combined Selected Alpha Performance (被选中的alpha费后表现)\n5. Combined Power Pool Alpha Performance (power pool alpha表现)\n五部分组成；\n点亮金字塔(俗称:点塔)表现为 同大区同Delay同数据集 提交至少3个alpha，不计倍数塔。\n我们以Expert (专家)为例，硬性指标必须同时满足\n1. 本季度alpha数量 Signals ≥ 20；\n2. 本季度金字塔数量 Pyramids ≥ 10，\n3. max(Combined Alpha Performance, Combined Selected Alpha Performance, Combined Power Pool Alpha Performance) ≥ 0.5\n这三个条件，才算达到Expert级别，但这并不代表最终定级，因为达到Expert的人数会超过 WorldQuant 的预期，所以就必然会出在淘汰制，优胜就指定在软指标(六维数据).\n软指标\n又称为“六维数据”，六维六维 很明显就是说有六个维度(指标)。\n其中\n软指标\n(六维数据)包括由本季度\n1. Operators per Alpha (每个alpha的平均(不去重)操作符数量)；\n2. Operators used (操作符的去重使用个数)；\n3. Fields per Alpha (每个alpha的平均(不去重)字段数量)；\n4. Fields used (字段使用(去重)数量)\n5. Community activity (rank[社区活跃程度])\n6. Max simulation streak (最大连续回测天数)\n六部分组成；\n·其中软指标第1，3条越小越好；2，4，5，6条越大越好，也就是含有per的越小越好，其他反之；\n·rank(社区活跃程度)可以通过参加会议、写帖子和帖子下评论(数量计分)以及拉新人[游戏王]；\n·Max simulation streak 是难以撼动的，只能保持。“你断下回测试试会有啥后果没”佬调侃到。\n二、冲刺 Genius !\n通过第一部分我们知道了Genius是怎么定级，同时优胜制是与六维数据相关。\n1. 关于六维数据\n细节\n这部分我们娓娓道来，关于六维数据我们能做的是什么?\ni ) 保持 Max simulation streak 最大回测天数 不要断 !!! ；\nii ) 论坛咱们尽量多的去逛，不单单只是为了一点赚取社区分，论坛一定是包含某种强大的思想，无论是技术上还是学习上，有时小小的一个点就会让你悄无声息上一个层次；\niii ) 尽量拉满自己的Operators used，当然这个小gold会有一些吃亏(大佬们的Operators used会更加的多更加饱满一些)，多去尝试自己有而没有使用过的Operators used，都是会跑出alpha来的；\niv ) 关于 Fields used ，当我们在使用某alpha模板时，通常会跑出来某同数据集完全可以提交的alpha, 且alpha的phl是相似的，alpha各方面都比较均衡，这时我们就要选取那个我们没有使用的字段的alpha；\nv ) Operators per Alpha 和 Fields per Alpha 两个 per，也是重要的指标，权衡谁强谁软，大家都会比较这唯一的两个per，下面我们仔细讲讲这两个指标细节 .\n首先，讲讲我的一些\n蠢行为! ,\n等等上面还有一点重要的忘记说了，\n要保持区域、Delay以及数据集多样性！\n使用关于金字塔的api控制自己的点塔行为，能找到alpha的情况下最好少在一个数据集点，一般来说某区域某Delay某数据集一般来说最多\n8~10\n个alpha最好 (个人见解)，同时还要自己的alpha分布比较均匀，比如：某区域delay数据集占比不能超过30%最好，某数据集占比太高甚至会被禁止使用此数据集字段 . 游戏王等大佬说D0的少做，特别是CHN区域的.\n保持区域多样性这个比较重要，会与Combine直接相关. 另外把某个地方多的alpha存起来，放在下一个季度去交，能直接增加两项硬性指标(alpha和金字塔数量)，岂不美哉.\n接下来继续讲我的蠢行为，我曾以为 +、-、*、/ 和 ^ 等等和操作符 add(x, y)、multiply(x ,y, ... , filter=false)、divide(x, y)以及power(x, y)效果相同，但是不算操作符...，\n直到我使用华子哥的插件才发现\n我的 + - * / 和 ^ 操作符数量十分高，于是我便知道了，他们效果一样，算操作符也是一样的算 法，于是我开始研究操作符和操作符重复使用的情况，此时我还在怀疑使用 vec_op 会不会提高 op_per，结果就是会算操作符会提高 op_per，那很糟糕了！\n下面的操作有几率\n降低\n你的\nOperators per Alpha\n，和想要查看自己的alpha数据也可以认真看一下\n在 postman (或者apifox) 上登录你的worldquant账号, (其中Cookie由你的账号和密码编码而来)\n下面的是查询alpha信息的url\n接下来我们就来看看几个alpha，查看它们的数据情况\n1 ）alpha表达式：“ - (1 / imb5_score) ”     —>    EUR-TOP2500-D1-OFF  id= '80PXEEz'\n仅仅使用了- 和 / 操作符，我们来查看此alpha的操作符使用情况\n只能查看到操作符的使用情况，而看不到字段的使用情况。使用了两个操作符，也就是 - 和 / 操作符\n2 ）alpha表达式：“ - rank(2 ^ rsk72_atop2000_dsrt) * rank(3 ^ mdl26_chng_rltv_t_rssll_2000_30) ”      —>     CHN-TOP2000U-D1-OFF  id= '5dnGLAz'\n我们来看一下操作符的使用，如果操作符信息返回6个，说明操作符重复计算；返回5个说明操作符没有重复计算! 来看结果\n重复算 operatorCount 操作符了 .\n没有\n字段使用数量信息\n，我们怎么知道重复字段有没有计数，对于Fields per Alpha 位于1-2之间或者是整数的最好办，我的Fields per Alpha = 1.54，我尝试了 op(f1, f1)，结果Fields per Alpha降低，说明字段不重复计算；如果Fields per Alpha上升，说明重复计算 .\n重点\n：巧妙的节省重复操作符 ！！！\n从以上几个alpha操作符测试，让我们知道了\ni ) +、-、*、/ 和 ^ 都是算入操作符计数的；\nii ) vec_op（vec_sum 和 vec_avg）也是操作符计数的；\niii ) 重复的操作符也是计数的， 会影响 六维之一的 Operators per Alpha\n3 ）alpha表达式： “见下图方框内”     —>    ASI-MINVOL1M-D1-OFF\n我们将重复的 vec_op 使用变量代替，操作符会被计算几次呢？当然，不用变量代替肯定会计算两次，下面看查询结果\n事实证明，本来会被算四次操作符的使用变量代替，变成三个了，会节省重复的操作符数量，从而提升此alpha六维之一的  Operators per Alpha . 当我们使用复杂的 alpha 模板时，可能会节省 3 ~ 4 操作符的情况也是会有的 .\n这个 alpha 处在备选库中我还没有交，因为它13年做多做空数据为0，倘若使用变量 a =\n1 / vec_sum(rsk60_offer)，那将使得此 alpha 节省两个操作符数量 .\n2. 点塔！\n点塔 从来都不是靠if_else算子来\n混塔\n！！！倒是可以用来点塔以及混合解决 Operators used问题\n当我们在使用 == 和 != 等等 Operators used 时，常常是需要跟判断逻辑if_else、and 和 or 联系的 . 用来提高自己的Operators used，但在提高自己的Operators used时，同时也增加操作符，增大了此 alpha 的 Operators per Alpha，我们应该怎么来权衡这种利弊呢，请期待下一节：\n交一个怎样的alpha能提升你的六维数据之定性定量分析 .\n我理解一二三阶是一个循环嵌套的过程，我这里就是一种平行平替的点塔方式！\n关于点塔，我想大家都比较关心，因为这项硬性指标直接挂钩Genius等级 . 我点塔一般来说一共有两点想法：\ni ）在相关性低的情况下，有些alpha的表现还行，比如：sharpe = 0.94, fintess = 0.81，returns = 9.24%, margin = 12.3 / 万这样的数据，或者phl看起来比较规律，可以先自己调节参数，如果调节不上去，可以通过调节alpha来达到挽救的效果，op(f(f1)) —> op(f(f1 op f2))，其中 f2 属于要点的塔 (建议自己程序去匹配一下塔的api， 从而实现点塔)\n比如：1. 看着一个较差的alpha，sharpe = 0.37, fitness = 0.14，但是Margin > 万10，还有看着phl曲线有上升趋势且较规律，此时我就会使用add来匹配还未点的塔. 使用+、-、* 和 / 都可以，需要自己看phl而定 .\n通过增加一个需要点塔的数据集字段，并稍加调节，便得到了一个 add(sharpe, fitness) > 4，Margin > 万20，returns 提高4倍，self_corr 上升2倍 的alpha，总体看来还是不错的，可以达到可提交的效果 .\nii ）在相关性很高的的情况下，但是alpha表现还是比较行的那种，我们可以通过点塔的方式，同样使用 +、-、* 和 /，或者 ts_op 、group_op 都是可以的，目的是达到降低 alpha 的相关性并实现点塔的目的 .\n比如：此 alpha 与大池子相关性0.92， 与小池子相关性0.56都较高，且Robust universe Sharpe 也没通过少得也不多不少，于是想着通过 点塔字段来小幅度扰动，同时实现点塔 和 降低pc，岂不是两全其美 .\n事实证明，使用 macro 数据集的 mcr63_membership 字段，能够使得pc 降低三分之一降至 0.62，，ppc 降低接近二分之一降至 0.36，从而实现点塔 .\n3. 好而优的 alpha\n何为好而优的 alpha？我理解有两点来说明，一点是 好 ，二点是 优 .\n一点：好，我理解在:\n1) sharpe ≥ 1.2  相同利益下承担的风险越小越好，降低个人的抗压；\n2) fitness ≥ 1  全方面稳定还是非常不错；\n3) turnover ≥ 2% & turnover ≤ 30% 既为对冲换手率不能低，换手率高了手续费遭不住；\n4) returns ≥ 10%  收益还是要好点能赚钱吧；\n5) drawdown 回撤越小越好吧，大了心理抗压不行；\n6) margin ≥ 15% 单位收益要高点吧，赚钱了谁都开心；\n7) 十年数据中做多做空不能太少吧，权重太高危险危险！\n8) 十年数据做多做空少两年数据的扔了吧，还要每(除最后)一年的returns ≥ 10% 同时 margin ≥ 15% .\n满足这八条，第8) 条数据有些苛刻，想要 alpha 质量过得去，要求每(除最后)一年的returns ≥ 10% 同时 margin ≥ 15%，这个第8) 条我是从 游戏王 那里学到的 . 下面展示了一个还过得去得 alpha .\n二点：优，我理解在:\n1) 看起来直观的，比如： 使用 - x 而不用 reverse(x)；\n2) 能加注释的加注释，最好是英文注释，有经济学意义就填上；\n3) 有时比如写个“alpha = *&%； alpha”，其实没必要这么写， 写“alpha = *&%；” 就好了；\n使用\n不建议使用\n三、alpha模板 ！\n看到这里，你还在想向我找寻alpha模板吗？其实我没有模板 ... 时间多的话可以再瞧一瞧上面的内容，看看能不能给到你一点点启发呢 .\n换个思路，我们做的是alpha， 是有经济学意义的的alpha，使用通过alpha模板去套字段，得到 alpha 数学模型. || 现在你不妨大胆一些，WoridQuantBrain 上现在不是有非常多的字段吗，不妨设想一下，你现在就是在 WQ 上创造数据字段的Consultant ！\nfield 本身算是一个字段，那 1 / field 也算一个字段，现在字段就已经实现翻倍了，abs(field)、log(field)、power(field, 2) 和 power(field, 3) 也可以算字段， 相反数会去匹配 sharpe .\n其实一个字段就会有复杂度O(Σ(region, universe, neutralization, delay, delay, truncation，maxtrade, nan handling))，相对而言虽然 truncation 和 nan handling 对大多数字段影响没有那么大，但有时对于个别的字段影响比较大的，这两个在复杂度上倒是可以不用那么关心 .\n从2月14日正式注册来，4月成为有条件顾问，一直到7月14日刚好5个月从有条件顾到正式顾问，到今天刚好7个月整. 我的总回测量跟前几天Bug时期大佬两天跑的回测量差不多. 其实有空跑一跑，摸一两个 alpha模板出来，O(Σ(region, universe, neutralization, delay, delay, truncation，maxtrade, nan handling))复杂度那么高，无论是为了点塔凑Operators used还是交alpha数量，alpha (至少ppa) 是会有的 .\n使用操作符 ts_op(f, days) ，这是一个字段，继续套， 1 /  ts_op(f, days) 、power(ts_op(f, days), 2) 和 power(3, ts_op(f, days)) ，甚至如果你想要使用exp{x}、sinx、arctan(x)等等数学函数，但 worlduqant 没有对应的操作符，怎么办，可以自己造 .\n造不出alpha，可以先‘少’管经济学意义，可以翻阅下自己的《数学分析》，或者说《高等数学》更好，你应该会有所收获.  同时结合自己的思考可以继续深入想象一下 . 充分发挥想象，那将是你的创造字段的无穷源泉 .\n下节预告:\nGenius冲刺! 交一个怎样的alpha能有效提升你的六维数据之定性定量分析\n2025年9月14日",
  "post_comments": [
    "感谢大佬的分享，我认真地看完了，文章的风格独特且美观，我也收获了很多，对于alpha的研究豁然开朗，有了不一样的见解，并且，此前一直没有想过用a=表达式1；表达式2（a)；这样也可以降操作符，突然感觉自己损失了很多；再者，对于在表达式中再加一个字段有时可以改良alpha的性能，以及我们可以自创数据字段，这些为我后面的研究带来了启迪性的作用",
    "您的帖子写得太详细了。到了赛季末了，我用华子哥的插件看了自己排名，说实话对六维其实是一知半解，不知到具体怎么分析。感觉您的分享就是手把手教我这种小白。"
  ]
}