{
  "title": "理解模板与数据集： 我将搜索空间缩小10万倍！",
  "description": "发现模板 在 【有奖】Alpha模板征文  的帖子中发现一篇关于model的模板分享，我正好在跑model，所以研究了一下。...",
  "post_body": "发现模板\n在\n【有奖】Alpha\n模板征文\n的帖子中发现一篇关于model的模板分享，我正好在跑model，所以研究了一下。 传送门\nhttps://support.worldquantbrain.com/hc/en-us/community/posts/33603438929047/comments/34226901158807\n研究模板\nmdl264数据集的字段都是对于未来趋势的预测，模板的思路是\n将多个预测信号累加，得到一个更强，更稳定的信号。\n但是跑这个模板会遇到几个问题：\nmdl264有2036个字段，如果直接33组合，搜索空间C(2036,3)大概有14亿，我们需要降低搜索空间\n观察lab可知mdl264大部分field的value分布在0~1之间。如果使用multiply，三数相乘，得到的结果差距最高可达千倍，这可能导致权重集中的问题。所以我只使用了add，如果使用multiply可能得搭配rank，zscore等函数。\n数据集内的字段都是趋势预测指标，但有上涨、下跌、中性等类型，同类型的字段相加才有意义。\n实践过程\n为避免有缺少年份数据的field，我先将所有裸字段回测一遍，并执行筛查\n筛查后发现此数据集\n没有缺少年份的数据，\n且一些字段呈现较强信号。信号弱侧面说明该字段预测趋势不准确，所以我将信号较弱的字段筛除(sharp < 0.5)，得到707个field\nfield及下文涉及代码见link\nhttps://codecopy.cn/post/wiievk\n密码:  wq123\n观察数据集字段的描述可知，预测类型有4种：\n通过description关键词，可以将四种类型数据分类\n以下行趋势为例，我们得到了219个字段。此时如果33组合，搜索空间C(219,3)约170万，需要继续减小搜索空间。\n观察这些字段的描述，可以发现其中有明显的分类行为。\n通过AI分析，将219个字段根据经济学维度分成了13类\n分类字段见link\nhttps://codecopy.cn/post/wiievk\n密码: wq123\n我抽查了一些相同分类中裸字段的相关性，发现相关性基本>0.7，所以每个分类可以只选出代表性的几个字段(我通过裸字段回测的sharp排序筛选)。\n最终，每个分类我保留了3个代表性字段，共39个字段，可组合出C(39,3)=9139个表达式，相较于直接暴力组合，大大缩小了搜索空间。相较于使用userCount、alphaCount倒序取前n条数据，此方法得到的表达式信号更强，跑出的alpha相互的相关性更低。\n扩展思路\n此模板我跑了1w次回测，得到500+能交的ppa(未相关性剪枝)，还交了两个RA\n模板是三个字段相加，可否是2个，4个?\n模板过于粗糙，可以在其基础上继续增强，套入一二三阶或其他模板",
  "post_comments": [
    "非常棒的思路！超大的搜索空间往往是限制alpha获取速度的一个重要原因，您提到的方案非常好，我在想是否可以结合最近论坛中大家常用的MCP，形成一个完整的自动筛选工具流，让回测更加高效呢，这是接下来一个值得做的方向！\n============================================\n句有可削，足见其疏；字不得减，乃知其密\n============================================",
    "====================================================================================\n给字段提前分类真的是一个很好的选择，真的是把搜索空间压缩到极致了👍\nmodel264还是挺有趣的，或许将枚举类型的趋势预测字段用于分组也是个不错的选择呢！\n期待大佬未来对其他数据集的探索~\n====================================================================================",
    "很棒，很细致的工作，考虑把你的idea抄过来，加入到我的工作流中。\n让我总结一下，不一定正确，就是你用历史的走势，找到一些稳定的上涨信号，然后用add的方式，让他们协同上升。其中还有很多剪枝，筛选的细节，很赞！！\n相比于暴力的做加法，搜索范围少了太多，而且好的可能性是被保留下来的，感谢你对于add操作符的探索，也希望可以继续探索其他operator，比如正趋势-负趋势+正趋势，正*正*正，负*负*正，并分享出来，我会第一时间点赞的！！\n另外有几点担忧是，这个方法，有些基于历史，不知道os会不会容易爆炸，另一个是，虽然是同数据集，但会不会也算混信号，其实本质也是对于os的担忧。",
    "同学对数据集分析的过程很值得借鉴\n请教：裸字段相关性 怎么检测",
    "YW26515\n我的第一步就将所有裸字段都回测了一遍，所以可以计算其两两相关性。如果你没有相关代码，可以在网页将alpha添加到一个List中，即可观察list中alpha相互的相关性",
    "特别好的思路，值得借鉴，出货率也很高\n====================================================================================",
    "很棒的思路，AK的那个模板我有去跑感觉还行，不知道你经过优化后的模板是什么样的,居然还对某个数据集的字段做了回测，思路很清晰啊，我晚上跑跑看，看在其他的region中有什么效果",
    "这个工具可以检查相关性\nhttps://support.worldquantbrain.com/hc/zh-cn/community/posts/33948316726807",
    "TL53163\n感谢解答，论坛真的能学到东西",
    "思路非常棒！！！",
    "很棒的思路，这个策略明显是认认真真的在搞wq。向大佬学习。"
  ]
}